#@title **Link Cleaner Tool**
#@title **Link Cleaner Tool**
#@markdown Paste your links in the input box below and click "Process Links"

import ipywidgets as widgets
from IPython.display import display, clear_output
import time

# Create input and output areas
input_area = widgets.Textarea(
    value='',
    placeholder='Paste your links here...',
    description='Input:',
    layout=widgets.Layout(width='100%', height='200px')
)

output_area = widgets.Textarea(
    value='',
    description='Output:',
    layout=widgets.Layout(width='100%', height='200px'),
    disabled=False  # Changed to allow copying
)

process_btn = widgets.Button(description="Process Links")

def process_links(btn):
    input_text = input_area.value
    lines = input_text.split('\n')
    cleaned_lines = []

    for line in lines:
        # Skip empty lines
        if not line.strip():
            continue

        # Remove lines containing "Failed creating"
        if "Failed creating" in line:
            continue

        # Process lines with "Successfully created and pinged"
        if "Successfully created and pinged" in line:
            # Extract URL part (everything before the colon-space separator)
            if " : " in line:
                cleaned_lines.append(line.split(" : ")[0])
            else:
                cleaned_lines.append(line)  # Fallback if separator not found
        else:
            # For other lines, remove any text after the URL if separated by " : "
            if " : " in line:
                cleaned_lines.append(line.split(" : ")[0])
            else:
                cleaned_lines.append(line)  # Keep lines without separator

    output_area.value = '\n'.join(cleaned_lines)

    # Show success message
    with output:
        clear_output()
        print("✅ Processing complete! Results are in the Output box below.")
        print("➡️ You can copy directly from the Output box")

process_btn.on_click(process_links)

# Display the interface
display(input_area)
display(process_btn)
display(output_area)

# Initial instructions
print("⭐ How to use:")
print("1. Paste your links in the Input box above")
print("2. Click 'Process Links'")
print("3. Results will appear in the Output box")
print("4. Select and copy the results directly from the Output box")
